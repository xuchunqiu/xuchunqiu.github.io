<!doctype html><html lang><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>博客当前施工进展 - 春秋碎碎念</title><meta name=Description content="稳步推进"><meta property="og:title" content="博客当前施工进展"><meta property="og:description" content="稳步推进"><meta property="og:type" content="article"><meta property="og:url" content="https://xuchunqiu.github.io/blog-construction-progress/"><meta property="og:image" content="https://xuchunqiu.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-11-10T17:10:30+08:00"><meta property="article:modified_time" content="2020-11-10T17:10:30+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://xuchunqiu.github.io/logo.png"><meta name=twitter:title content="博客当前施工进展"><meta name=twitter:description content="稳步推进"><meta name=application-name content="LoveIt"><meta name=apple-mobile-web-app-title content="LoveIt"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://xuchunqiu.github.io/blog-construction-progress/><link rel=next href=https://xuchunqiu.github.io/what-is-sci/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"博客当前施工进展","inLanguage":"","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/xuchunqiu.github.io\/blog-construction-progress\/"},"genre":"posts","wordcount":379,"url":"https:\/\/xuchunqiu.github.io\/blog-construction-progress\/","datePublished":"2020-11-10T17:10:30+08:00","dateModified":"2020-11-10T17:10:30+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"xuchunqiu"},"description":"稳步推进"}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=春秋碎碎念></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>文章 </a><a class=menu-item href=/docs/>文档 </a><a class=menu-item href=/tags/>标签 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=春秋碎碎念></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>文章</a><a class=menu-item href=/docs/ title>文档</a><a class=menu-item href=/tags/ title>标签</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">博客当前施工进展</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=" author" class=author><i class="fas fa-user-circle fa-fw"></i>xuchunqiu</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2020-11-10>2020-11-10</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;379 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;2 minutes&nbsp;</div></div><div class="details toc" id=toc-static kept=true><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#践行web-内容无障碍指南httpswwww3orgtranslationswcag21-zh>践行<a href=https://www.w3.org/Translations/WCAG21-zh>《Web 内容无障碍指南》</a></a></li><li><a href=#hugo-101>Hugo 101</a><ul><li><a href=#安装>安装</a></li><li><a href=#使用>使用</a><ul><li><a href=#应用主题>应用主题</a></li><li><a href=#客制化>客制化</a></li></ul></li><li><a href=#部署>部署</a><ul><li><a href=#处理-google-search-console-验证>处理 Google Search Console 验证</a></li></ul></li></ul></li><li><a href=#todo>TODO</a></li></ul></nav></div></div><div class=content id=content><h1 id=静态网站生成器>静态网站生成器</h1><blockquote><p>static site generator / web template system</p></blockquote><p>可选包括 Jekyll、Hexo、Pelican、Gridea、Hugo ……</p><p>前几日看到新闻说 <a href="https://www.solidot.org/story?sid=65959" target=_blank rel="noopener noreffer">KDE.org 迁移到 Hugo</a>，所以我现在有些倾向于它。</p><h2 id=践行web-内容无障碍指南httpswwww3orgtranslationswcag21-zh>践行<a href=https://www.w3.org/Translations/WCAG21-zh target=_blank rel="noopener noreffer">《Web 内容无障碍指南》</a></h2><p>对于一个没有前端开发经验的人来说自己从头做起未免步子迈太大，找个无障碍优化做得比较好的 <a href=https://themes.gohugo.io/ target=_blank rel="noopener noreffer">Hugo 主题</a> 才是个现实的解决办法。根据 accessible/accessibility 标签筛选出了以下博客主题： <a href=https://themes.gohugo.io/hugo-theme-zzo target=_blank rel="noopener noreffer">Zzo</a>、<a href=https://themes.gohugo.io/hugo-theme-color-your-world target=_blank rel="noopener noreffer">Color Your World</a>、<a href=https://themes.gohugo.io/hugo-terrassa-theme target=_blank rel="noopener noreffer">Terrassa</a>、<a href=https://themes.gohugo.io/hugo-theme-zen target=_blank rel="noopener noreffer">Zen</a>、<a href=https://themes.gohugo.io/cupper-hugo-theme target=_blank rel="noopener noreffer">Cupper</a>、<a href=https://themes.gohugo.io/accessible-minimalism-hugo-theme target=_blank rel="noopener noreffer">Accessible Minimalism</a></p><p>从 W3C 列出的 <a href=https://www.w3.org/WAI/ER/tools target=_blank rel="noopener noreffer">Web Accessibility Evaluation Tools List</a> 中选了一个在线测试工具 <a href=https://www.webaccessibility.com target=_blank rel="noopener noreffer">WebAccessibility</a> 进行测试，测试结果如下（测试进行于2020年11月9日，测试结果仅能代表此刻的情况）。</p><table><thead><tr><th>theme name</th><th>test url</th><th style=text-align:center>number of violations</th><th style=text-align:center>compliance score</th><th>personal evaluation</th></tr></thead><tbody><tr><td>Zzo</td><td><a href=https://themes.gohugo.io/theme/hugo-theme-zzo/>https://themes.gohugo.io/theme/hugo-theme-zzo/</a></td><td style=text-align:center>27</td><td style=text-align:center>85%</td><td>garish</td></tr><tr><td>Color Your World</td><td><a href=https://themes.gohugo.io/theme/hugo-theme-color-your-world/>https://themes.gohugo.io/theme/hugo-theme-color-your-world/</a></td><td style=text-align:center>0</td><td style=text-align:center>91%</td><td></td></tr><tr><td>Terrassa</td><td><a href=https://themes.gohugo.io/theme/hugo-terrassa-theme/>https://themes.gohugo.io/theme/hugo-terrassa-theme/</a></td><td style=text-align:center>6</td><td style=text-align:center>87%</td><td>comfortable</td></tr><tr><td>Zen</td><td><a href=https://themes.gohugo.io/theme/hugo-theme-zen/>https://themes.gohugo.io/theme/hugo-theme-zen/</a></td><td style=text-align:center>1</td><td style=text-align:center>88%</td><td>basic black and white blog style</td></tr><tr><td>Cupper</td><td><a href=https://themes.gohugo.io/theme/cupper-hugo-theme/>https://themes.gohugo.io/theme/cupper-hugo-theme/</a></td><td style=text-align:center>0</td><td style=text-align:center>91%</td><td>black and white but too sharp</td></tr><tr><td>Accessible Minimalism</td><td><a href=https://themes.gohugo.io/theme/accessible-minimalism-hugo-theme/>https://themes.gohugo.io/theme/accessible-minimalism-hugo-theme/</a></td><td style=text-align:center>0</td><td style=text-align:center>91%</td><td>too crude</td></tr></tbody></table><p>可是老实说上边这些我都不 100% 合我心意，就 Demo 的展示内容来说像走入了两种极端：极简或是花里胡哨。在 blog 标签下发现了这个功能和质感都恰到好处为 <a href=https://themes.gohugo.io/hugo-eureka target=_blank rel="noopener noreffer">Eureka</a> 的主题，虽然没有 accessible 标签但 <a href=https://www.webaccessibility.com target=_blank rel="noopener noreffer">WebAccessibility</a> 合规成绩 92%，更重要的是开发者是中文母语者——这个主题的中文显示效果不会差。</p><h2 id=hugo-101>Hugo 101</h2><ul><li>系统环境：Windows 10</li><li>终端：Windows PowerShell</li></ul><h3 id=安装>安装</h3><blockquote><p><a href=https://gohugo.io/getting-started/installing/>https://gohugo.io/getting-started/installing/</a></p></blockquote><p>按照官方文档中的 Quick Install 部分，在 <a href=https://github.com/gohugoio/hugo/releases target=_blank rel="noopener noreffer">releases</a> 页下载 <code>hugo_0.78.1_Windows-64bit.zip</code> 解压后的 <code>hugo.exe</code> 放入本机的某一路径如 <code>D:\Hugo\hugo_0.78.1</code> 。此时就能执行 Hugo 的命令了，可通过如下命令测试：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-powershell data-lang=powershell><span class=n>D:</span><span class=p>\</span><span class=n>Hugo</span><span class=p>\</span><span class=n>hugo_0</span><span class=p>.</span><span class=n>78</span><span class=p>.</span><span class=n>1</span><span class=p>\</span><span class=n>hugo</span><span class=p>.</span><span class=n>exe</span> <span class=n>help</span>  <span class=c># 输出 Hugo 的命令手册</span>
<span class=c># 为了省略前面的路径，接下来需要添加环境变量</span>
</code></pre></td></tr></table></div></div><p>将路径 <code>D:\Hugo\hugo_0.78.1</code> 添加入用户变量 <code>PATH</code> ，而后重启使其生效。接下来使用如下命令测试：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-powershell data-lang=powershell><span class=n>hugo</span> <span class=n>help</span>  <span class=c># 输出 Hugo 的命令手册</span>
</code></pre></td></tr></table></div></div><h3 id=使用>使用</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-powershell data-lang=powershell><span class=n>hugo</span>  <span class=c># 将当前工作目录作为输入，根据该路径下的 config 文件/文件夹生成静态网站内容至 .\public</span>

<span class=c># config 文件或是 config 文件夹是并列的两种配置方式，前者可以通过用 Hugo 创建站点来生成</span>
<span class=n>hugo</span> <span class=n>new</span> <span class=n>site</span> <span class=p>&lt;</span><span class=n>your_site_name</span><span class=p>&gt;</span>
<span class=n>tree</span>
<span class=p>.</span>
<span class=err>└──</span> <span class=p>&lt;</span><span class=n>your_site_name</span><span class=p>&gt;</span>
    <span class=err>├──</span> <span class=n>archetypes</span>
    <span class=err>│</span>   <span class=err>└──</span> <span class=k>default</span><span class=p>.</span><span class=nb>md
</span><span class=nb></span>    <span class=err>├──</span> <span class=n>config</span><span class=p>.</span><span class=n>toml</span>
    <span class=err>├──</span> <span class=n>content</span>
    <span class=err>├──</span> <span class=n>data</span>
    <span class=err>├──</span> <span class=n>layouts</span>
    <span class=err>├──</span> <span class=n>static</span>
    <span class=err>└──</span> <span class=n>themes</span>
<span class=c># 接下来对于站点 &lt;your_site_name&gt; 的操作都要在其根目录下进行</span>
<span class=nb>cd </span><span class=p>&lt;</span><span class=n>your_site_name</span><span class=p>&gt;</span>
<span class=n>hugo</span> <span class=n>new</span> <span class=n>content</span><span class=p>/</span><span class=n>new_post</span><span class=p>.</span><span class=nb>md </span> <span class=c># 创建新文章</span>

<span class=n>hugo</span> <span class=n>server</span>  <span class=c># 生成一个本地测试站点，注意：所有文件头为 draft: true 的 markdown 文件都不会被处理与显示；</span>
</code></pre></td></tr></table></div></div><h4 id=应用主题>应用主题</h4><blockquote><p><a href=https://www.wangchucheng.com/zh/docs/eureka/getting-started/>https://www.wangchucheng.com/zh/docs/eureka/getting-started/</a></p></blockquote><p>进入站点根目录，初始化一个 Hugo Module，名字可以自定义，以后永远不会用到。然后从 GitHub 下载 Eureka 主题的 <a href=https://github.com/wangchucheng/hugo-eureka/tree/master/exampleSite target=_blank rel="noopener noreffer">config 文件夹</a> 到站点根目录，修改 <code>&lt;your_site_name>/config/_default/config.toml</code> 的配置，然后删除 <code>&lt;your_site_name>/config.toml</code> 。接下来就可以生成测试站点了。</p><h4 id=客制化>客制化</h4><h3 id=部署>部署</h3><p><a href=https://github.com/marketplace/actions/hugo-to-gh-pages>https://github.com/marketplace/actions/hugo-to-gh-pages</a></p><p><a href=https://gist.github.com/lisez/41cebe4eb9190a5c5e879fee5933beb1>https://gist.github.com/lisez/41cebe4eb9190a5c5e879fee5933beb1</a></p><h4 id=处理-google-search-console-验证>处理 Google Search Console 验证</h4><p>暂时无法通过 <code>Google Analytics（分析）</code> 的方式验证所有权，加上没有添加独立域名，导致唯一可用的验证方式是 <code>HTML 标记</code> —— 向网站根目录上传一个 Google 提供的 HTML 文件并一直保持。</p><p>尝试单独把这个 html 文件 commit 到 <code>xuchunqiu/xuchunqiu.github.io</code>，顺利通过验证；然而上面 GitHub Action 部署过程中默认的 <code>--cleanDestinationDir</code> 运行参数会使得仓库 <code>xuchunqiu/xuchunqiu.github.io</code> 中的原始内容在更新后被完全清空（包括单独 commit 的 HTML 文件）。</p><p>解决思路有二：修改 GitHub Action、让 Hugo 生成静态网页时把这个 HTML 加进去。</p><p>后者在 Hugo 的 <a href=https://gohugo.io/getting-started/directory-structure/ target=_blank rel="noopener noreffer">文档</a> 中有特别提到，文件夹 <code>static</code> 适合用来存储 Google Search Console 的验证用 HTML：</p><blockquote><p>static: Stores all the static content: images, CSS, JavaScript, etc. When Hugo builds your site, all assets inside your static directory are copied over as-is. A good example of using the static folder is for verifying site ownership on Google Search Console, where you want Hugo to copy over a complete HTML file without modifying its content.</p></blockquote><h2 id=todo>TODO</h2><ul><li><p><i class="far fa-square fa-fw"></i> 寻找国内友好的图床</p></li><li><p><i class="far fa-square fa-fw"></i> 添加 Gitalk 评论区</p></li><li><p><i class="far fa-square fa-fw"></i> 熟悉发布博文到 GitHub Pages 的工作流</p><ul><li><i class="far fa-square fa-fw"></i> 统一 commit 样式（约定式提交？）</li></ul></li><li><p><i class="far fa-square fa-fw"></i> 践行 <a href=https://github.com/sparanoid/chinese-copywriting-guidelines target=_blank rel="noopener noreffer">《中文排版方案指北》</a></p></li><li><p><i class="far fa-square fa-fw"></i> 迁移 Dropbox 内的笔记</p></li><li><p><i class="far fa-square fa-fw"></i> 迁移 Notion 内的知识库</p></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2020-11-10</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/blog-construction-progress/index.md target=_blank>Read Markdown</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://xuchunqiu.github.io/blog-construction-progress/ data-title=博客当前施工进展><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://xuchunqiu.github.io/blog-construction-progress/><i class="fab fa-facebook-square fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/what-is-sci/ class=next rel=next title="什么是 SCI">什么是 SCI<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.82.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2019 - 2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>xuchunqiu</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/auto-render.min.js></script><script type=text/javascript src=/lib/katex/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/mhchem.min.js></script><script type=text/javascript src=/lib/cookieconsent/cookieconsent.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10},comment:{},cookieconsent:{content:{dismiss:"Got it!",link:"Learn more",message:"This website uses Cookies to improve your experience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"$$",right:"$$"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"},{display:!1,left:"$",right:"$"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-6VB32GX1DH',{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-6VB32GX1DH" async></script></body></html>