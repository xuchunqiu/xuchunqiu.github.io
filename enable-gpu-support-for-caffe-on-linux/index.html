<!doctype html><html lang><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>为 Linux 上的 Caffe 启用 GPU 支持 - CQCQ 收到未？</title><meta name=Description content="欢迎来到我的菜园子"><meta property="og:title" content="为 Linux 上的 Caffe 启用 GPU 支持"><meta property="og:description" content="0x00 下载 CUDA 和 cuDNN 下载 CUDA Toolkit 8.0 和 cuDNN v7.1.4, for CUDA 8.0
  CUDA 下载：https://developer.nvidia.com/cuda-80-ga2-download-archive
  cuDNN 下载：https://developer.nvidia.com/rdp/cudnn-archive
  0x01 安装 CUDA 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51  user@machine:~# sudo sh cuda_8."><meta property="og:type" content="article"><meta property="og:url" content="https://xuchunqiu.me/enable-gpu-support-for-caffe-on-linux/"><meta property="og:image" content="https://xuchunqiu.me/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-04-09T00:33:53+00:00"><meta property="article:modified_time" content="2019-04-09T00:33:53+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://xuchunqiu.me/logo.png"><meta name=twitter:title content="为 Linux 上的 Caffe 启用 GPU 支持"><meta name=twitter:description content="0x00 下载 CUDA 和 cuDNN 下载 CUDA Toolkit 8.0 和 cuDNN v7.1.4, for CUDA 8.0
  CUDA 下载：https://developer.nvidia.com/cuda-80-ga2-download-archive
  cuDNN 下载：https://developer.nvidia.com/rdp/cudnn-archive
  0x01 安装 CUDA 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51  user@machine:~# sudo sh cuda_8."><meta name=application-name content="LoveIt"><meta name=apple-mobile-web-app-title content="LoveIt"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://xuchunqiu.me/enable-gpu-support-for-caffe-on-linux/><link rel=prev href=https://xuchunqiu.me/install-deepin-screenshot-on-ubuntu/><link rel=next href=https://xuchunqiu.me/install-and-setup-rime-on-ubuntu/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"为 Linux 上的 Caffe 启用 GPU 支持","inLanguage":"","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/xuchunqiu.me\/enable-gpu-support-for-caffe-on-linux\/"},"genre":"posts","wordcount":1250,"url":"https:\/\/xuchunqiu.me\/enable-gpu-support-for-caffe-on-linux\/","datePublished":"2019-04-09T00:33:53+00:00","dateModified":"2019-04-09T00:33:53+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"xuchunqiu"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="CQCQ 收到未？"></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>文章 </a><a class=menu-item href=/docs/>文档 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/about/me/>关于我 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="CQCQ 收到未？"></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>文章</a><a class=menu-item href=/docs/ title>文档</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/about/me/ title>关于我</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">为 Linux 上的 Caffe 启用 GPU 支持</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>xuchunqiu</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2019-04-09>2019-04-09</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1250 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;6 minutes&nbsp;</div></div><div class="details toc" id=toc-static kept=true><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#0x00-下载-cuda-和-cudnn>0x00 下载 CUDA 和 cuDNN</a></li><li><a href=#0x01-安装-cuda>0x01 安装 <code>CUDA</code></a><ul><li><a href=#故障排除missing-libglusolibxmuso>故障排除：Missing libGLU.so、libXmu.so</a></li><li><a href=#将-cuda-安装目录写入环境变量>将 <code>CUDA</code> 安装目录写入环境变量</a></li><li><a href=#运行-cuda-测试用例>运行 <code>CUDA</code> 测试用例</a></li></ul></li><li><a href=#0x02-安装-cudnn>0x02 安装 <code>cuDNN</code></a><ul><li><a href=#运行-cudnn-测试用例>运行 <code>cuDNN</code> 测试用例</a><ul><li><a href=#故障排除没有-libcudartso80>故障排除：没有 <code>libcudart.so.8.0</code></a></li></ul></li></ul></li><li><a href=#0x03-在-caffe-中启用-gpu>0x03 在 <code>Caffe</code> 中启用 GPU</a><ul><li><a href=#查看-cuda-和-cudnn-版本>查看 <code>CUDA</code> 和 <code>cuDNN</code> 版本：</a></li><li><a href=#切换-caffe-到-cudnn-加速模式并测试运行手写体识别>切换 <code>Caffe</code> 到 <code>cuDNN</code> 加速模式并测试运行手写体识别</a></li></ul></li><li><a href=#0x04-补充确认-make-编译时调用的-gpu-核数>0x04 补充：确认 <code>make</code> 编译时调用的 GPU 核数</a></li><li><a href=#0x05-补充监测-gpu-运行情况>0x05 补充：监测 GPU 运行情况</a></li></ul></nav></div></div><div class=content id=content><h2 id=0x00-下载-cuda-和-cudnn>0x00 下载 CUDA 和 cuDNN</h2><p>下载 <code>CUDA Toolkit 8.0</code> 和 <code>cuDNN v7.1.4, for CUDA 8.0</code></p><ul><li><p>CUDA 下载：https://developer.nvidia.com/cuda-80-ga2-download-archive</p></li><li><p>cuDNN 下载：https://developer.nvidia.com/rdp/cudnn-archive</p></li></ul><h2 id=0x01-安装-cuda>0x01 安装 <code>CUDA</code></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>user@machine:~# sudo sh cuda_8.0.61_375.26_linux.run
</span></span><span class=line><span class=cl>……
</span></span><span class=line><span class=cl>Do you accept the previously <span class=nb>read</span> EULA?
</span></span><span class=line><span class=cl>accept/decline/quit: accept
</span></span><span class=line><span class=cl>Install NVIDIA Accelerated Graphics Driver <span class=k>for</span> Linux-x86_64 375.26?
</span></span><span class=line><span class=cl><span class=o>(</span>y<span class=o>)</span>es/<span class=o>(</span>n<span class=o>)</span>o/<span class=o>(</span>q<span class=o>)</span>uit: n
</span></span><span class=line><span class=cl>Install the CUDA 8.0 Toolkit?
</span></span><span class=line><span class=cl><span class=o>(</span>y<span class=o>)</span>es/<span class=o>(</span>n<span class=o>)</span>o/<span class=o>(</span>q<span class=o>)</span>uit: y
</span></span><span class=line><span class=cl>Enter Toolkit Location
</span></span><span class=line><span class=cl> <span class=o>[</span> default is /usr/local/cuda-8.0 <span class=o>]</span>: 
</span></span><span class=line><span class=cl><span class=c1># CUDA_HOME=/usr/local/cuda</span>
</span></span><span class=line><span class=cl>Do you want to install a symbolic link at /usr/local/cuda?
</span></span><span class=line><span class=cl><span class=o>(</span>y<span class=o>)</span>es/<span class=o>(</span>n<span class=o>)</span>o/<span class=o>(</span>q<span class=o>)</span>uit: y
</span></span><span class=line><span class=cl>Install the CUDA 8.0 Samples?
</span></span><span class=line><span class=cl><span class=o>(</span>y<span class=o>)</span>es/<span class=o>(</span>n<span class=o>)</span>o/<span class=o>(</span>q<span class=o>)</span>uit: y
</span></span><span class=line><span class=cl>Enter CUDA Samples Location
</span></span><span class=line><span class=cl> <span class=o>[</span> default is /home/user <span class=o>]</span>: 
</span></span><span class=line><span class=cl>Installing the CUDA Toolkit in /usr/local/cuda-8.0 ...
</span></span><span class=line><span class=cl>Installing the CUDA Samples in /home/user ...
</span></span><span class=line><span class=cl>Copying samples to /home/user/NVIDIA_CUDA-8.0_Samples now...
</span></span><span class=line><span class=cl>Finished copying samples.
</span></span><span class=line><span class=cl>Installing the CUDA Toolkit in /usr/local/cuda-8.0 ...
</span></span><span class=line><span class=cl>Missing recommended library: libGLU.so
</span></span><span class=line><span class=cl>Missing recommended library: libXmu.so
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Installing the CUDA Samples in /home/user ...
</span></span><span class=line><span class=cl>Copying samples to /home/user/NVIDIA_CUDA-8.0_Samples now...
</span></span><span class=line><span class=cl>Finished copying samples.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>===========</span>
</span></span><span class=line><span class=cl><span class=o>=</span> <span class=nv>Summary</span> <span class=o>=</span>
</span></span><span class=line><span class=cl><span class=o>===========</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Driver:   Not Selected
</span></span><span class=line><span class=cl>Toolkit:  Installed in /usr/local/cuda-8.0
</span></span><span class=line><span class=cl>Samples:  Installed in /home/user, but missing recommended libraries
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Please make sure that
</span></span><span class=line><span class=cl> -   PATH includes /usr/local/cuda-8.0/bin
</span></span><span class=line><span class=cl> -   LD_LIBRARY_PATH includes /usr/local/cuda-8.0/lib64, or, add /usr/local/cuda-8.0/lib64 to /etc/ld.so.conf and run ldconfig as root
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>To uninstall the CUDA Toolkit, run the uninstall script in /usr/local/cuda-8.0/bin
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Please see CUDA_Installation_Guide_Linux.pdf in /usr/local/cuda-8.0/doc/pdf <span class=k>for</span> detailed information on setting up CUDA.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>***WARNING: Incomplete installation! This installation did not install the CUDA Driver. A driver of version at least 361.00 is required <span class=k>for</span> CUDA 8.0 functionality to work.
</span></span><span class=line><span class=cl>To install the driver using this installer, run the following command, replacing &lt;CudaInstaller&gt; with the name of this run file:
</span></span><span class=line><span class=cl>    sudo &lt;CudaInstaller&gt;.run -silent -driver
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Logfile is /tmp/cuda_install_6304.log
</span></span><span class=line><span class=cl>Signal caught, cleaning up
</span></span></code></pre></td></tr></table></div></div><h3 id=故障排除missing-libglusolibxmuso>故障排除：Missing libGLU.so、libXmu.so</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 对于 Missing recommended library: libGLU.so</span>
</span></span><span class=line><span class=cl><span class=c1># 和 Missing recommended library: libXmu.so</span>
</span></span><span class=line><span class=cl><span class=c1># 安装依赖库：</span>
</span></span><span class=line><span class=cl>user@machine:~# sudo apt-get install freeglut3-dev build-essential libx11-dev libxmu-dev libxi-dev libgl1-mesa-glx libglu1-mesa libglu1-mesa-dev
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 对于 ***WARNING: Incomplete installation! This installation did not install the CUDA Driver. A driver of version at least 361.00 is required for CUDA 8.0 functionality to work. 不用管</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=将-cuda-安装目录写入环境变量>将 <code>CUDA</code> 安装目录写入环境变量</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>user@machine:~# sudo vim ~/.bashrc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 将以下内容写入到~/.bashrc尾部：</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span>/usr/local/cuda-8.0/bin<span class=si>${</span><span class=nv>PATH</span><span class=p>:+:</span><span class=si>${</span><span class=nv>PATH</span><span class=si>}}</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>LD_LIBRARY_PATH</span><span class=o>=</span>/usr/local/cuda-8.0/lib64<span class=si>${</span><span class=nv>LD_LIBRARY_PATH</span><span class=p>:+:</span><span class=si>${</span><span class=nv>LD_LIBRARY_PATH</span><span class=si>}}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=运行-cuda-测试用例>运行 <code>CUDA</code> 测试用例</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>user@machine:~# <span class=nb>cd</span> /usr/local/cuda-8.0/samples/1_Utilities/deviceQuery
</span></span><span class=line><span class=cl>user@machine:~# sudo make
</span></span><span class=line><span class=cl><span class=s2>&#34;/usr/local/cuda-8.0&#34;</span>/bin/nvcc -ccbin g++ -I../../common/inc  -m64    -gencode <span class=nv>arch</span><span class=o>=</span>compute_20,code<span class=o>=</span>sm_20 -gencode <span class=nv>arch</span><span class=o>=</span>compute_30,code<span class=o>=</span>sm_30 -gencode <span class=nv>arch</span><span class=o>=</span>compute_35,code<span class=o>=</span>sm_35 -gencode <span class=nv>arch</span><span class=o>=</span>compute_37,code<span class=o>=</span>sm_37 -gencode <span class=nv>arch</span><span class=o>=</span>compute_50,code<span class=o>=</span>sm_50 -gencode <span class=nv>arch</span><span class=o>=</span>compute_52,code<span class=o>=</span>sm_52 -gencode <span class=nv>arch</span><span class=o>=</span>compute_60,code<span class=o>=</span>sm_60 -gencode <span class=nv>arch</span><span class=o>=</span>compute_60,code<span class=o>=</span>compute_60 -o deviceQuery.o -c deviceQuery.cpp
</span></span><span class=line><span class=cl>nvcc warning : The <span class=s1>&#39;compute_20&#39;</span>, <span class=s1>&#39;sm_20&#39;</span>, and <span class=s1>&#39;sm_21&#39;</span> architectures are deprecated, and may be removed in a future release <span class=o>(</span>Use -Wno-deprecated-gpu-targets to suppress warning<span class=o>)</span>.
</span></span><span class=line><span class=cl><span class=s2>&#34;/usr/local/cuda-8.0&#34;</span>/bin/nvcc -ccbin g++   -m64      -gencode <span class=nv>arch</span><span class=o>=</span>compute_20,code<span class=o>=</span>sm_20 -gencode <span class=nv>arch</span><span class=o>=</span>compute_30,code<span class=o>=</span>sm_30 -gencode <span class=nv>arch</span><span class=o>=</span>compute_35,code<span class=o>=</span>sm_35 -gencode <span class=nv>arch</span><span class=o>=</span>compute_37,code<span class=o>=</span>sm_37 -gencode <span class=nv>arch</span><span class=o>=</span>compute_50,code<span class=o>=</span>sm_50 -gencode <span class=nv>arch</span><span class=o>=</span>compute_52,code<span class=o>=</span>sm_52 -gencode <span class=nv>arch</span><span class=o>=</span>compute_60,code<span class=o>=</span>sm_60 -gencode <span class=nv>arch</span><span class=o>=</span>compute_60,code<span class=o>=</span>compute_60 -o deviceQuery deviceQuery.o 
</span></span><span class=line><span class=cl>nvcc warning : The <span class=s1>&#39;compute_20&#39;</span>, <span class=s1>&#39;sm_20&#39;</span>, and <span class=s1>&#39;sm_21&#39;</span> architectures are deprecated, and may be removed in a future release <span class=o>(</span>Use -Wno-deprecated-gpu-targets to suppress warning<span class=o>)</span>.
</span></span><span class=line><span class=cl>mkdir -p ../../bin/x86_64/linux/release
</span></span><span class=line><span class=cl>cp deviceQuery ../../bin/x86_64/linux/release
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 如果显示一些关于GPU的信息，则说明安装成功</span>
</span></span><span class=line><span class=cl>user@machine:~# sudo ./deviceQuery
</span></span><span class=line><span class=cl>./deviceQuery Starting...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>CUDA Device Query <span class=o>(</span>Runtime API<span class=o>)</span> version <span class=o>(</span>CUDART static linking<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Detected <span class=m>1</span> CUDA Capable device<span class=o>(</span>s<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Device 0: <span class=s2>&#34;GeForce GTX 950M&#34;</span>
</span></span><span class=line><span class=cl>CUDA Driver Version / Runtime Version          9.0 / 8.0
</span></span><span class=line><span class=cl>CUDA Capability Major/Minor version number:    5.0
</span></span><span class=line><span class=cl>Total amount of global memory:                 <span class=m>2003</span> MBytes <span class=o>(</span><span class=m>2100232192</span> bytes<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>(</span> 5<span class=o>)</span> Multiprocessors, <span class=o>(</span>128<span class=o>)</span> CUDA Cores/MP:     <span class=m>640</span> CUDA Cores
</span></span><span class=line><span class=cl>GPU Max Clock rate:                            <span class=m>1124</span> MHz <span class=o>(</span>1.12 GHz<span class=o>)</span>
</span></span><span class=line><span class=cl>Memory Clock rate:                             <span class=m>900</span> Mhz
</span></span><span class=line><span class=cl>Memory Bus Width:                              128-bit
</span></span><span class=line><span class=cl>L2 Cache Size:                                 <span class=m>2097152</span> bytes
</span></span><span class=line><span class=cl>Maximum Texture Dimension Size <span class=o>(</span>x,y,z<span class=o>)</span>         <span class=nv>1D</span><span class=o>=(</span>65536<span class=o>)</span>, <span class=nv>2D</span><span class=o>=(</span>65536, 65536<span class=o>)</span>, <span class=nv>3D</span><span class=o>=(</span>4096, 4096, 4096<span class=o>)</span>
</span></span><span class=line><span class=cl>Maximum Layered 1D Texture Size, <span class=o>(</span>num<span class=o>)</span> layers  <span class=nv>1D</span><span class=o>=(</span>16384<span class=o>)</span>, <span class=m>2048</span> layers
</span></span><span class=line><span class=cl>Maximum Layered 2D Texture Size, <span class=o>(</span>num<span class=o>)</span> layers  <span class=nv>2D</span><span class=o>=(</span>16384, 16384<span class=o>)</span>, <span class=m>2048</span> layers
</span></span><span class=line><span class=cl>Total amount of constant memory:               <span class=m>65536</span> bytes
</span></span><span class=line><span class=cl>Total amount of shared memory per block:       <span class=m>49152</span> bytes
</span></span><span class=line><span class=cl>Total number of registers available per block: <span class=m>65536</span>
</span></span><span class=line><span class=cl>Warp size:                                     <span class=m>32</span>
</span></span><span class=line><span class=cl>Maximum number of threads per multiprocessor:  <span class=m>2048</span>
</span></span><span class=line><span class=cl>Maximum number of threads per block:           <span class=m>1024</span>
</span></span><span class=line><span class=cl>Max dimension size of a thread block <span class=o>(</span>x,y,z<span class=o>)</span>: <span class=o>(</span>1024, 1024, 64<span class=o>)</span>
</span></span><span class=line><span class=cl>Max dimension size of a grid size    <span class=o>(</span>x,y,z<span class=o>)</span>: <span class=o>(</span>2147483647, 65535, 65535<span class=o>)</span>
</span></span><span class=line><span class=cl>Maximum memory pitch:                          <span class=m>2147483647</span> bytes
</span></span><span class=line><span class=cl>Texture alignment:                             <span class=m>512</span> bytes
</span></span><span class=line><span class=cl>Concurrent copy and kernel execution:          Yes with <span class=m>1</span> copy engine<span class=o>(</span>s<span class=o>)</span>
</span></span><span class=line><span class=cl>Run <span class=nb>time</span> limit on kernels:                     Yes
</span></span><span class=line><span class=cl>Integrated GPU sharing Host Memory:            No
</span></span><span class=line><span class=cl>Support host page-locked memory mapping:       Yes
</span></span><span class=line><span class=cl>Alignment requirement <span class=k>for</span> Surfaces:            Yes
</span></span><span class=line><span class=cl>Device has ECC support:                        Disabled
</span></span><span class=line><span class=cl>Device supports Unified Addressing <span class=o>(</span>UVA<span class=o>)</span>:      Yes
</span></span><span class=line><span class=cl>Device PCI Domain ID / Bus ID / location ID:   <span class=m>0</span> / <span class=m>1</span> / <span class=m>0</span>
</span></span><span class=line><span class=cl>Compute Mode:
</span></span><span class=line><span class=cl>&lt; Default <span class=o>(</span>multiple host threads can use ::cudaSetDevice<span class=o>()</span> with device simultaneously<span class=o>)</span> &gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>deviceQuery, CUDA <span class=nv>Driver</span> <span class=o>=</span> CUDART, CUDA Driver <span class=nv>Version</span> <span class=o>=</span> 9.0, CUDA Runtime <span class=nv>Version</span> <span class=o>=</span> 8.0, <span class=nv>NumDevs</span> <span class=o>=</span> 1, <span class=nv>Device0</span> <span class=o>=</span> GeForce GTX 950M
</span></span><span class=line><span class=cl><span class=nv>Result</span> <span class=o>=</span> PASS
</span></span></code></pre></td></tr></table></div></div><h2 id=0x02-安装-cudnn>0x02 安装 <code>cuDNN</code></h2><p>安装教程： <a href=https://docs.nvidia.com/deeplearning/sdk/cudnn-install/index.html target=_blank rel="noopener noreffer">https://docs.nvidia.com/deeplearning/sdk/cudnn-install/index.html</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>user@machine:~# sudo dpkg -i ~/Downloads/libcudnn7_7.1.4.18-1+cuda8.0_amd64.deb
</span></span><span class=line><span class=cl>user@machine:~# sudo dpkg -i ~/Downloads/libcudnn7-dev_7.1.4.18-1+cuda8.0_amd64.deb
</span></span><span class=line><span class=cl>user@machine:~# sudo dpkg -i ~/Downloads/libcudnn7-doc_7.1.4.18-1+cuda8.0_amd64.deb
</span></span></code></pre></td></tr></table></div></div><h3 id=运行-cudnn-测试用例>运行 <code>cuDNN</code> 测试用例</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Copy the cuDNN sample to a writable path.</span>
</span></span><span class=line><span class=cl>user@machine:~# cp -r /usr/src/cudnn_samples_v7/ <span class=nv>$HOME</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Go to the writable path.</span>
</span></span><span class=line><span class=cl>user@machine:~# <span class=nb>cd</span> <span class=nv>$HOME</span>/cudnn_samples_v7/mnistCUDNN
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Compile the mnistCUDNN sample.</span>
</span></span><span class=line><span class=cl>user@machine:~# make clean <span class=o>&amp;&amp;</span> make
</span></span><span class=line><span class=cl><span class=c1># Run the mnistCUDNN sample. &#39;Test passed!&#39; means cuDNN works.</span>
</span></span><span class=line><span class=cl>user@machine:~# ./mnistCUDNN
</span></span><span class=line><span class=cl>……
</span></span><span class=line><span class=cl>Test passed!
</span></span></code></pre></td></tr></table></div></div><h4 id=故障排除没有-libcudartso80>故障排除：没有 <code>libcudart.so.8.0</code></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>./mnistCUDNN: error <span class=k>while</span> loading shared libraries: libcudart.so.8.0: cannot open shared object file: No such file or directory
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 解决办法：https://blog.csdn.net/u011636567/article/details/77162217</span>
</span></span><span class=line><span class=cl><span class=c1># 首先检查 /usr/local/cuda-8.0/lib64 目录，看看 libcudart.so.8.0 是否存在，如果不存在，则先正确安装 cuda; 如果确定 cuda 已经存在，这个问题的出现与 Linux 的 ldconfig 命令有关</span>
</span></span><span class=line><span class=cl>以下两种方法同理： 
</span></span><span class=line><span class=cl><span class=c1># 1.</span>
</span></span><span class=line><span class=cl>user@machine:~# sudo ldconfig /usr/local/cuda-8.0/lib64 
</span></span><span class=line><span class=cl><span class=c1># 2.</span>
</span></span><span class=line><span class=cl>user@machine:~# <span class=nb>export</span> <span class=nv>LD_LIBRARY_PATH</span><span class=o>=</span><span class=nv>$LD_LIBRARY_PATH</span>:/usr/local/cuda-8.0/lib64
</span></span><span class=line><span class=cl><span class=c1># 如果仍然不行，再尝试执行: </span>
</span></span><span class=line><span class=cl>user@machine:~# <span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=nv>$PATH</span>:/usr/local/cuda-8.0/bin 
</span></span><span class=line><span class=cl>user@machine:~# <span class=nb>export</span> <span class=nv>LIBRARY_PATH</span><span class=o>=</span><span class=nv>$LIBRARY_PATH</span>:/usr/local/cuda-8.0/lib64 
</span></span><span class=line><span class=cl>user@machine:~# <span class=nb>source</span> /etc/profile 
</span></span></code></pre></td></tr></table></div></div><h2 id=0x03-在-caffe-中启用-gpu>0x03 在 <code>Caffe</code> 中启用 GPU</h2><h3 id=查看-cuda-和-cudnn-版本>查看 <code>CUDA</code> 和 <code>cuDNN</code> 版本：</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># CUDA</span>
</span></span><span class=line><span class=cl>user@machine:~# cat /usr/local/cuda/version.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># if cuDNN was installed from a tar file</span>
</span></span><span class=line><span class=cl>user@machine:~# cat /usr/local/cuda/include/cudnn.h <span class=p>|</span> grep CUDNN_MAJOR -A <span class=m>2</span>
</span></span><span class=line><span class=cl><span class=c1># if cuDNN was installed from a debian file</span>
</span></span><span class=line><span class=cl>user@machine:~# cat /usr/include/cudnn.h <span class=p>|</span> grep CUDNN_MAJOR -A <span class=m>2</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=切换-caffe-到-cudnn-加速模式并测试运行手写体识别>切换 <code>Caffe</code> 到 <code>cuDNN</code> 加速模式并测试运行手写体识别</h3><p>首先修改 <code>Makefile.config</code>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>user@machine:~# sudo vim ~/caffe/Makefile.config
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 注释掉仅 CPU 模式开关</span>
</span></span><span class=line><span class=cl><span class=c1># CPU_ONLY := 1</span>
</span></span><span class=line><span class=cl><span class=c1># 打开 cuDNN 加速开关</span>
</span></span><span class=line><span class=cl>USE_CUDNN :<span class=o>=</span> <span class=m>1</span>
</span></span></code></pre></td></tr></table></div></div><p>然后重新编译整个工程（根据输出可以观察到编译的对象是 <code>~/caffe/src/caffe</code> 下的 <code>*.cu</code> 和 <code>*.cpp</code>）：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>user@machine:~# make clean <span class=o>&amp;&amp;</span> make -j8
</span></span></code></pre></td></tr></table></div></div><p>在运行时启用 GPU 有两种方式:</p><ol><li>运行 MNIST 例程前，修改训练超参数文件：</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>user@machine:~# sudo vim examples/mnist/lenet_solver.prototxt
</span></span><span class=line><span class=cl><span class=c1># 改 CPU 为 GPU</span>
</span></span><span class=line><span class=cl>solver_mode: GPU
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#   运行 MNIST 识别程序</span>
</span></span><span class=line><span class=cl>user@machine:~# ./examples/mnist/train_lenet.sh
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>运行时使用参数指定 GPU 执行</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>user@machine:~# ./examples/mnist/train_lenet.sh -gpu <span class=m>0</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=0x04-补充确认-make-编译时调用的-gpu-核数>0x04 补充：确认 <code>make</code> 编译时调用的 GPU 核数</h2><blockquote><p><code>总核数</code> = <code>物理 CPU 个数</code> X <code>每颗物理 CPU 的核数</code></p><p><code>总逻辑 CPU 数</code> = <code>物理 CPU 个数</code> X <code>每颗物理 CPU 的核数</code> X <code>超线程数</code></p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 查看物理 CPU 个数</span>
</span></span><span class=line><span class=cl>user@machine:~# cat /proc/cpuinfo<span class=p>|</span> grep <span class=s2>&#34;physical id&#34;</span><span class=p>|</span> sort<span class=p>|</span> uniq<span class=p>|</span> wc -l
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看每个物理 CPU 中 core 的个数（即核数）</span>
</span></span><span class=line><span class=cl>user@machine:~# cat /proc/cpuinfo<span class=p>|</span> grep <span class=s2>&#34;cpu cores&#34;</span><span class=p>|</span> uniq
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看逻辑 CPU 的个数</span>
</span></span><span class=line><span class=cl>user@machine:~# cat /proc/cpuinfo<span class=p>|</span> grep <span class=s2>&#34;processor&#34;</span><span class=p>|</span> wc -l
</span></span><span class=line><span class=cl><span class=m>16</span>
</span></span><span class=line><span class=cl><span class=c1># make 的时候就可以 make -j16</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=0x05-补充监测-gpu-运行情况>0x05 补充：监测 GPU 运行情况</h2><ul><li>第三方工具：<a href=ttps://github.com/mountassir/gmonitor/releases target=_blank rel="noopener noreffer">gmonitor</a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>user@machine:~# tar xvzf gmonitor-v1.3.tar.gz
</span></span><span class=line><span class=cl>user@machine:~# sudo cp ~/Downloads/gmonitor /usr/local/bin/
</span></span><span class=line><span class=cl>user@machine:~# gmonitor
</span></span></code></pre></td></tr></table></div></div></li><li>官方工具：nvidia-smi（安装完显卡驱动后自带）<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 每10s刷新一次</span>
</span></span><span class=line><span class=cl>user@machine:~# watch -n <span class=m>10</span> nvidia-smi
</span></span></code></pre></td></tr></table></div></div></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2019-04-09</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/enable-gpu-support-for-caffe-on-linux/index.md target=_blank>Read Markdown</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://xuchunqiu.me/enable-gpu-support-for-caffe-on-linux/ data-title="为 Linux 上的 Caffe 启用 GPU 支持"><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://xuchunqiu.me/enable-gpu-support-for-caffe-on-linux/><i class="fab fa-facebook-square fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/install-deepin-screenshot-on-ubuntu/ class=prev rel=prev title="如何在 Ubuntu 上安装深度截图"><i class="fas fa-angle-left fa-fw"></i>如何在 Ubuntu 上安装深度截图</a>
<a href=/install-and-setup-rime-on-ubuntu/ class=next rel=next title="如何在 Ubuntu 上安装配置 Rime 输入法">如何在 Ubuntu 上安装配置 Rime 输入法<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.95.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2019 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>xuchunqiu</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/auto-render.min.js></script><script type=text/javascript src=/lib/katex/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/mhchem.min.js></script><script type=text/javascript src=/lib/cookieconsent/cookieconsent.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10},comment:{},cookieconsent:{content:{dismiss:"Got it!",link:"Learn more",message:"This website uses Cookies to improve your experience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"$$",right:"$$"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"},{display:!1,left:"$",right:"$"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6VB32GX1DH",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-6VB32GX1DH" async></script></body></html>