<!doctype html><html lang><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>JetBrains Projector 使用初体验 - CQCQ 收到未？</title><meta name=Description content="欢迎来到我的菜园子"><meta property="og:title" content="JetBrains Projector 使用初体验"><meta property="og:description" content="Projector 是 JetBrains 新推出的远程开发解决方案。实现上是在远程主机上部署 IDE 服务端然后在本地浏览器中或本地客户端中访问，本文记录了安装步骤和使用体验。
0x00 可能有用的链接  官方博客介绍：使用 Projector 远程访问 IDE 官方文档：Projector documentation 安装方式 A（命令行）：JetBrains/projector-installer 安装方式 B（docker）：JetBrains/projector-docker Win/macOS/Linux 客户端下载：releases on JetBrains/projector-client  0x01 安装步骤 本文是采用上面的安装方式 A 在运行 Ubuntu 18.04 的远程主机上运行，具体步骤直接参考链接 3。命令抄录如下：
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54  # install python3 user@machine:~# sudo apt install python3 python3-pip -y # check pip3 version user@machine:~# pip3 --version # if pip3 < 19 user@machine:~# python3 -m pip install -U pip # install other packages user@machine:~# sudo apt install libxext6 libxrender1 libxtst6 libfreetype6 libxi6 less -y # install Jetrains Projector user@machine:~# ip3 install projector-installer --user # use Projector to install IDE user@machine:~# projector install Checking for updates ."><meta property="og:type" content="article"><meta property="og:url" content="https://xuchunqiu.me/jetbrains-projector-first-experiences/"><meta property="og:image" content="https://xuchunqiu.me/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-07-06T10:22:06+00:00"><meta property="article:modified_time" content="2021-07-06T10:22:06+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://xuchunqiu.me/logo.png"><meta name=twitter:title content="JetBrains Projector 使用初体验"><meta name=twitter:description content="Projector 是 JetBrains 新推出的远程开发解决方案。实现上是在远程主机上部署 IDE 服务端然后在本地浏览器中或本地客户端中访问，本文记录了安装步骤和使用体验。
0x00 可能有用的链接  官方博客介绍：使用 Projector 远程访问 IDE 官方文档：Projector documentation 安装方式 A（命令行）：JetBrains/projector-installer 安装方式 B（docker）：JetBrains/projector-docker Win/macOS/Linux 客户端下载：releases on JetBrains/projector-client  0x01 安装步骤 本文是采用上面的安装方式 A 在运行 Ubuntu 18.04 的远程主机上运行，具体步骤直接参考链接 3。命令抄录如下：
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54  # install python3 user@machine:~# sudo apt install python3 python3-pip -y # check pip3 version user@machine:~# pip3 --version # if pip3 < 19 user@machine:~# python3 -m pip install -U pip # install other packages user@machine:~# sudo apt install libxext6 libxrender1 libxtst6 libfreetype6 libxi6 less -y # install Jetrains Projector user@machine:~# ip3 install projector-installer --user # use Projector to install IDE user@machine:~# projector install Checking for updates ."><meta name=application-name content="LoveIt"><meta name=apple-mobile-web-app-title content="LoveIt"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://xuchunqiu.me/jetbrains-projector-first-experiences/><link rel=prev href=https://xuchunqiu.me/what-is-sci/><link rel=next href=https://xuchunqiu.me/jetbrains-gateway-first-experiences/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"JetBrains Projector 使用初体验","inLanguage":"","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/xuchunqiu.me\/jetbrains-projector-first-experiences\/"},"genre":"posts","wordcount":906,"url":"https:\/\/xuchunqiu.me\/jetbrains-projector-first-experiences\/","datePublished":"2021-07-06T10:22:06+00:00","dateModified":"2021-07-06T10:22:06+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"xuchunqiu"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="CQCQ 收到未？"></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>文章 </a><a class=menu-item href=/docs/>文档 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/about/me/>关于我 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="CQCQ 收到未？"></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>文章</a><a class=menu-item href=/docs/ title>文档</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/about/me/ title>关于我</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">JetBrains Projector 使用初体验</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>xuchunqiu</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-07-06>2021-07-06</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;906 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;5 minutes&nbsp;</div></div><div class="details toc" id=toc-static kept=true><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#0x00-可能有用的链接>0x00 可能有用的链接</a></li><li><a href=#0x01-安装步骤>0x01 安装步骤</a></li><li><a href=#0x02-故障排除>0x02 故障排除</a><ul><li><a href=#更新完-pip3-后得到-syntaxerror-invalid-syntax>更新完 pip3 后得到 <code>SyntaxError: invalid syntax</code></a></li><li><a href=#尝试用-pip3-安装-projector-时遇到-error>尝试用 pip3 安装 Projector 时遇到 <code>Error</code></a></li><li><a href=#projector-命令无效><code>projector</code> 命令无效</a></li><li><a href=#projector-run-尝试启动-ide-后很快出现报错日志><code>projector run</code> 尝试启动 IDE 后很快出现报错日志</a></li></ul></li><li><a href=#0x03-存在的问题>0x03 存在的问题</a><ul><li><a href=#快捷键冲突和剪贴板共享>快捷键冲突和剪贴板共享</a></li><li><a href=#启用自签证书的-https>启用自签证书的 HTTPS</a></li></ul></li></ul></nav></div></div><div class=content id=content><p>Projector 是 JetBrains 新推出的远程开发解决方案。实现上是在远程主机上部署 IDE 服务端然后在本地浏览器中或本地客户端中访问，本文记录了安装步骤和使用体验。</p><h2 id=0x00-可能有用的链接>0x00 可能有用的链接</h2><ol><li>官方博客介绍：<a href=https://blog.jetbrains.com/zh-hans/blog/2021/03/25/projector-ide/ target=_blank rel="noopener noreffer">使用 Projector 远程访问 IDE</a></li><li>官方文档：<a href=https://jetbrains.github.io/projector-client/mkdocs/latest/ target=_blank rel="noopener noreffer">Projector documentation</a></li><li>安装方式 A（命令行）：<a href=https://github.com/JetBrains/projector-installer target=_blank rel="noopener noreffer">JetBrains/projector-installer</a></li><li>安装方式 B（docker）：<a href=https://github.com/JetBrains/projector-docker target=_blank rel="noopener noreffer">JetBrains/projector-docker</a></li><li>Win/macOS/Linux 客户端下载：<a href=https://github.com/JetBrains/projector-client/releases/tag/launcher-v1.0.1 target=_blank rel="noopener noreffer">releases on JetBrains/projector-client</a></li></ol><h2 id=0x01-安装步骤>0x01 安装步骤</h2><p>本文是采用上面的安装方式 A 在运行 Ubuntu 18.04 的远程主机上运行，具体步骤直接参考链接 3。命令抄录如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># install python3</span>
</span></span><span class=line><span class=cl>user@machine:~# sudo apt install python3 python3-pip -y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># check pip3 version</span>
</span></span><span class=line><span class=cl>user@machine:~# pip3 --version
</span></span><span class=line><span class=cl><span class=c1># if pip3 &lt; 19</span>
</span></span><span class=line><span class=cl>user@machine:~# python3 -m pip install -U pip
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># install other packages</span>
</span></span><span class=line><span class=cl>user@machine:~# sudo apt install libxext6 libxrender1 libxtst6 libfreetype6 libxi6 less -y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># install Jetrains Projector</span>
</span></span><span class=line><span class=cl>user@machine:~# ip3 install projector-installer --user
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># use Projector to install IDE</span>
</span></span><span class=line><span class=cl>user@machine:~# projector install
</span></span><span class=line><span class=cl>Checking <span class=k>for</span> updates ... <span class=k>done</span>.
</span></span><span class=line><span class=cl>Installing IDE in quick mode<span class=p>;</span> <span class=k>for</span> full customization you can rerun this <span class=nb>command</span> with <span class=s2>&#34;--expert&#34;</span> argument or edit this config later via <span class=s2>&#34;projector config edit&#34;</span> command.
</span></span><span class=line><span class=cl>           1. Idea_Community
</span></span><span class=line><span class=cl>           2. Idea_Ultimate
</span></span><span class=line><span class=cl>           3. PyCharm_Community
</span></span><span class=line><span class=cl>           4. PyCharm_Professional
</span></span><span class=line><span class=cl>           5. CLion
</span></span><span class=line><span class=cl>           6. GoLand
</span></span><span class=line><span class=cl>           7. DataGrip
</span></span><span class=line><span class=cl>           8. PhpStorm
</span></span><span class=line><span class=cl>           9. WebStorm
</span></span><span class=line><span class=cl>          10. RubyMine
</span></span><span class=line><span class=cl>          11. Rider
</span></span><span class=line><span class=cl>Choose IDE <span class=nb>type</span> or <span class=m>0</span> to exit: <span class=o>[</span>0-11<span class=o>]</span>: <span class=m>4</span>
</span></span><span class=line><span class=cl>Do you want to <span class=k>select</span> from Projector-tested IDE only? <span class=o>[</span>y/N<span class=o>]</span>y
</span></span><span class=line><span class=cl>           1. PyCharm Professional 2019.3.4
</span></span><span class=line><span class=cl>           2. PyCharm Professional 2020.2
</span></span><span class=line><span class=cl>           3. PyCharm Professional 2020.3.3
</span></span><span class=line><span class=cl>Choose IDE number to install or <span class=m>0</span> to exit: <span class=o>[</span>0-3<span class=o>]</span>: <span class=m>3</span>
</span></span><span class=line><span class=cl>Installing PyCharm Professional 2020.3.3
</span></span><span class=line><span class=cl>Downloading pycharm-professional-2020.3.3.tar.gz
</span></span><span class=line><span class=cl><span class=o>[</span><span class=c1>##------------------------------------------------]    4%  00:04:15</span>
</span></span><span class=line><span class=cl>Unpacking pycharm-professional-2020.3.3.tar.gz
</span></span><span class=line><span class=cl><span class=o>[</span><span class=c1>##################################################]  100%          </span>
</span></span><span class=line><span class=cl>Configuration name: PyCharm
</span></span><span class=line><span class=cl>Checking <span class=k>for</span> updates ... <span class=k>done</span>.
</span></span><span class=line><span class=cl>To access IDE, open in browser 
</span></span><span class=line><span class=cl>        http://localhost:9999/
</span></span><span class=line><span class=cl>        http://127.0.0.1:9999/
</span></span><span class=line><span class=cl>        http://10.106.200.224:9999/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>To see Projector logs in realtime run
</span></span><span class=line><span class=cl>        tail -f <span class=s2>&#34;/root/.projector/configs/PyCharm/projector.log&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Exit IDE or press Ctrl+C to stop Projector.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># start IDE</span>
</span></span><span class=line><span class=cl>user@machine:~# projector run
</span></span></code></pre></td></tr></table></div></div><p>其中我遇到的坑主要是需要升级 pip3（>= 19）和 Python（>= 3.6），解决方案见下一章。</p><h2 id=0x02-故障排除>0x02 故障排除</h2><h3 id=更新完-pip3-后得到-syntaxerror-invalid-syntax>更新完 pip3 后得到 <code>SyntaxError: invalid syntax</code></h3><p>首先按照链接 3 的教程更新 pip3 到最新版本：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 检查现有 pip3 版本</span>
</span></span><span class=line><span class=cl>pip3 --version
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 如果版本小于 19 就使用如下命令更新到最新版本</span>
</span></span><span class=line><span class=cl>python3 -m pip install -U pip
</span></span></code></pre></td></tr></table></div></div><p>再接着执行任何 <code>pip3 install</code> 都会得到如下错误：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sys.stderr.write<span class=o>(</span>f<span class=s2>&#34;ERROR: {exc}&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                                   ^
</span></span><span class=line><span class=cl>SyntaxError: invalid syntax
</span></span></code></pre></td></tr></table></div></div><p>这个问题出现的原因是远程主机 Python = 3.5，但 pip 默认更新到最新的 pip 21.0 仅支持 Python 3.6+<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>。我的选择是将 pip 更新到最后支持 Python 3.5 的那一版：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -fsSL -o- https://bootstrap.pypa.io/pip/3.5/get-pip.py <span class=p>|</span> python3.5
</span></span></code></pre></td></tr></table></div></div><p>这就为接下来的问题埋下伏笔。现在回想此时正确的做法应是直接更新 Python。</p><h3 id=尝试用-pip3-安装-projector-时遇到-error>尝试用 pip3 安装 Projector 时遇到 <code>Error</code></h3><p>在按照链接 3 的教程安装完一系列的依赖后，就可以正式安装 Projector：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pip3 install projector-installer --user
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ERROR: Could not find a version that satisfies the requirement projector-installer
</span></span><span class=line><span class=cl>ERROR: No matching distribution found <span class=k>for</span> projector-installer
</span></span></code></pre></td></tr></table></div></div><p>如果遇到以上错误，说明需要升级 Python 版本<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>。教程见<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>，摘录如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo add-apt-repository ppa:deadsnakes/ppa
</span></span><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>sudo apt-get install python3.8
</span></span><span class=line><span class=cl>sudo apt install python3.8-distutils
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 更新软链接</span>
</span></span><span class=line><span class=cl>sudo rm /usr/bin/python3
</span></span><span class=line><span class=cl>sudo ln -s python3.8 /usr/bin/python3
</span></span></code></pre></td></tr></table></div></div><h3 id=projector-命令无效><code>projector</code> 命令无效</h3><p>这个问题在链接 3 的 FAQ 部分已经进行了说明<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>。是出在 <code>projector</code> 的安装路径 <code>~/.local/bin</code> 没有加入到环境变量 <code>$PATH</code> 中，直接的 workaround 是使用完整路径启动 <code>projector</code>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>~/.local/bin/projector
</span></span></code></pre></td></tr></table></div></div><p>不过一劳永逸的方法将添加环境变量 <code>$PATH</code> 的命令写入到 <code>~/.profile</code>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;export PATH=</span><span class=si>${</span><span class=nv>PATH</span><span class=si>}</span><span class=s2>:~/.local/bin&#34;</span> &gt;&gt; ~/.profile
</span></span><span class=line><span class=cl>. ~/.profile
</span></span></code></pre></td></tr></table></div></div><h3 id=projector-run-尝试启动-ide-后很快出现报错日志><code>projector run</code> 尝试启动 IDE 后很快出现报错日志</h3><p>在初次使用 <code>projector install</code> 完成 IDE 安装后会自动启动 IDE，使用完毕后使用 <code>Ctrl</code> + <code>c</code> 退出。之后想再次启动已经安装好的 IDE 就需要使用 <code>projector run</code> 命令，可能遇到在输出完 IDE 的访问链接后立刻打印报错日志的情况：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Checking <span class=k>for</span> updates ... <span class=k>done</span>.
</span></span><span class=line><span class=cl>To access IDE, open in browser 
</span></span><span class=line><span class=cl>        http://localhost:9999/
</span></span><span class=line><span class=cl>        http://127.0.0.1:9999/
</span></span><span class=line><span class=cl>        http://10.106.200.224:9999/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>To see Projector logs in realtime run
</span></span><span class=line><span class=cl>        tail -f <span class=s2>&#34;/root/.projector/configs/PyCharm/projector.log&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Exit IDE or press Ctrl+C to stop Projector.
</span></span><span class=line><span class=cl>--------------------- Projector log session start. Installer version: 1.1.1 Run config: PyCharm - 2021-04-07 08:02:35.367158
</span></span><span class=line><span class=cl>OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
</span></span><span class=line><span class=cl><span class=o>[</span>DEBUG<span class=o>]</span> :: IdeState :: Starting attempts to attach IJ injector agent
</span></span><span class=line><span class=cl><span class=o>[</span>DEBUG<span class=o>]</span> :: IdeState :: Starting attempts to initialize IDEA: fix AA and disable smooth scrolling <span class=o>(</span>at start<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> :: ProjectorServer :: ProjectorServer is starting on host 0.0.0.0/0.0.0.0 and port <span class=m>9999</span>
</span></span><span class=line><span class=cl><span class=o>[</span>DEBUG<span class=o>]</span> :: IdeState :: Starting attempts to Getting IDE colors
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> :: ProjectorServer :: WebSocket SSL is disabled
</span></span><span class=line><span class=cl><span class=o>[</span>INFO<span class=o>]</span> :: ProjectorServer :: Server started on host 0.0.0.0/0.0.0.0 and port <span class=m>9999</span>
</span></span><span class=line><span class=cl><span class=o>[</span>DEBUG<span class=o>]</span> :: ProjectorServer :: Daemon thread starts
</span></span><span class=line><span class=cl><span class=o>[</span>DEBUG<span class=o>]</span> :: IdeState :: Starting attempts to search <span class=k>for</span> editors
</span></span><span class=line><span class=cl>IDE has not been initialized yet
</span></span><span class=line><span class=cl><span class=o>[</span>DEBUG<span class=o>]</span> :: ProjectorServer :: Daemon thread finishes
</span></span></code></pre></td></tr></table></div></div><p>这个问题可能是之前的 IDE 没有成功退出导致的<sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup>（虽然 log 看起来并非如此），杀掉旧进程就可以了：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>root@machine:~# ps aux <span class=p>|</span> grep -i pycharm
</span></span><span class=line><span class=cl>root       <span class=m>966</span> 36.5  0.2 <span class=m>8513048</span> <span class=m>286408</span> pts/0  Sl   07:38   9:51 /root/.projector/apps/pycharm-2020.3.3/jbr/bin/java -classpath /r
</span></span><span class=line><span class=cl>root      <span class=m>2102</span>  0.0  0.0  <span class=m>13216</span>  <span class=m>1064</span> pts/0    S+   08:05   0:00 grep --color<span class=o>=</span>auto -i pycharm
</span></span><span class=line><span class=cl>root@machine:~# <span class=nb>kill</span> <span class=m>966</span>
</span></span><span class=line><span class=cl>root@machine:~# ps aux <span class=p>|</span> grep -i pycharm
</span></span><span class=line><span class=cl>root      <span class=m>2113</span>  0.0  0.0  <span class=m>13216</span>  <span class=m>1044</span> pts/0    S+   08:06   0:00 grep --color<span class=o>=</span>auto -i pycharm
</span></span><span class=line><span class=cl>root@machine:~# projector run
</span></span></code></pre></td></tr></table></div></div><h2 id=0x03-存在的问题>0x03 存在的问题</h2><p>此处仅列举我在实际体验中觉得很糟心的地方，其它问题可以在链接 2 的 Known problems<sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup> 部分查看。</p><h3 id=快捷键冲突和剪贴板共享>快捷键冲突和剪贴板共享</h3><p>Projector 的服务端是安装在远程 Linux 环境中，然后通过本地浏览器或下载链接 5 的客户端使用（这里需要提一句的是 JetBrains 的 IDE 插件市场中也上架了 <code>Projector</code><sup id=fnref:7><a href=#fn:7 class=footnote-ref role=doc-noteref>7</a></sup>，但这个是把本机 IDE 当服务端来用的）。</p><p>当通过浏览器访问 Projector 时，IDE 的快捷键会与浏览器本身的快捷键冲突，例如选择代码块的快捷键 <code>Ctrl</code> + <code>w</code><sup id=fnref:8><a href=#fn:8 class=footnote-ref role=doc-noteref>8</a></sup>在 Chromium/Firefox/Safari 中是关闭当前标签页。所以为了使用快捷键还有复制粘贴功能，最好还是下载独立的 Projector 客户端。</p><h3 id=启用自签证书的-https>启用自签证书的 HTTPS</h3><p>本文初次写成于 2021 年 3 月，但当 4 月我在另一台机器上部署完 Projector 后发现即使用 Projector 客户端去连也不能将其中的文本复制粘贴到其它程序中。在 JetBrains 的 bug 跟踪系统 YouTrack 上有人<sup id=fnref:9><a href=#fn:9 class=footnote-ref role=doc-noteref>9</a></sup>解释是新版本的服务端后只有在 localhost 部署或启用 HTTPS 后才能跨程序复制粘贴，同时给出了对于 <a href=https://jetbrains.github.io/projector-client/mkdocs/latest/ij_user_guide/accessing/#incomplete-clipboard-synchronization target=_blank rel="noopener noreffer">不完整剪贴板同步实现过程的官方文档</a>。</p><p>就个人+内网使用来说，自签 HTTPS 证书是比较简单的方式。此处给出自签证书的启用方法，至于使用可信任证书颁发机构给域名颁发的证书，可以参考链接 3 自述文件的 FAQ 部分<sup id=fnref:10><a href=#fn:10 class=footnote-ref role=doc-noteref>10</a></sup>。</p><p>在命令行中交互式启动自签 HTTPS 证书：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 所有可用命令</span>
</span></span><span class=line><span class=cl>projector config <span class=o>(</span>--help<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 列出所有配置的名称</span>
</span></span><span class=line><span class=cl>projector config list
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 展示选定配置的详情</span>
</span></span><span class=line><span class=cl>projector config show
</span></span><span class=line><span class=cl><span class=c1># 这里的信息要比 ~/.projector/configs/PyCharm/config.ini 更详细，</span>
</span></span><span class=line><span class=cl><span class=c1># 也有一个布尔的 &#34;Projector uses secure config (https/wss)= 0&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 交互式修改配置</span>
</span></span><span class=line><span class=cl>projector config edit
</span></span><span class=line><span class=cl><span class=c1># 只需给 Use secure connection? 一个 y 的回答</span>
</span></span></code></pre></td></tr></table></div></div><p>修改完毕后再 <code>projector run</code> 就能看到终端中提示要从 <code>~/.projector/ssl/ca.crt</code> 安装证书，有意思的是这个证书下载下来是 0KB，无法安装。我最后是通过直接在 Chrome 访问 <code>https://&lt;projector-server-address>:&lt;projector-port></code> -> 导出证书 -> 文件管理器安装。</p><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p><a href=https://stackoverflow.com/questions/65869296/installing-pip-is-not-working-in-python-3-6 target=_blank rel="noopener noreffer">https://stackoverflow.com/questions/65869296/installing-pip-is-not-working-in-python-3-6</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote><p><a href=https://youtrack.jetbrains.com/issue/PRJ-302 target=_blank rel="noopener noreffer">https://youtrack.jetbrains.com/issue/PRJ-302</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3 role=doc-endnote><p><a href=https://stackoverflow.com/questions/58591889/how-i-can-upgrade-my-ubuntu-python3-7-to-python3-8-latest-version target=_blank rel="noopener noreffer">https://stackoverflow.com/questions/58591889/how-i-can-upgrade-my-ubuntu-python3-7-to-python3-8-latest-version</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4 role=doc-endnote><p><a href=https://github.com/JetBrains/projector-installer#projector-command-is-unavailable target=_blank rel="noopener noreffer">https://github.com/JetBrains/projector-installer#projector-command-is-unavailable</a>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:5 role=doc-endnote><p><a href=https://stackoverflow.com/questions/61236544/clion-pycharm-phpstorm-intellij-wont-start-says-ide-has-not-been-initialized/61237140#61237140 target=_blank rel="noopener noreffer">https://stackoverflow.com/questions/61236544/clion-pycharm-phpstorm-intellij-wont-start-says-ide-has-not-been-initialized/61237140#61237140</a>&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:6 role=doc-endnote><p><a href=https://jetbrains.github.io/projector-client/mkdocs/latest/ij_user_guide/jetbrains/#known-problems target=_blank rel="noopener noreffer">https://jetbrains.github.io/projector-client/mkdocs/latest/ij_user_guide/jetbrains/#known-problems</a>&#160;<a href=#fnref:6 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:7 role=doc-endnote><p><a href=https://plugins.jetbrains.com/plugin/16015-projector target=_blank rel="noopener noreffer">https://plugins.jetbrains.com/plugin/16015-projector</a>&#160;<a href=#fnref:7 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:8 role=doc-endnote><p><a href=https://www.jetbrains.com/help/idea/working-with-source-code.html#editor_code_selection target=_blank rel="noopener noreffer">https://www.jetbrains.com/help/idea/working-with-source-code.html#editor_code_selection</a>&#160;<a href=#fnref:8 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:9 role=doc-endnote><p><a href="https://youtrack.jetbrains.com/issue/PRJ-426#focus=Comments-27-4816576.0-0" target=_blank rel="noopener noreffer">https://youtrack.jetbrains.com/issue/PRJ-426#focus=Comments-27-4816576.0-0</a>&#160;<a href=#fnref:9 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:10 role=doc-endnote><p><a href=https://github.com/JetBrains/projector-installer#secure-connection target=_blank rel="noopener noreffer">https://github.com/JetBrains/projector-installer#secure-connection</a>&#160;<a href=#fnref:10 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2021-07-06</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/jetbrains-projector-first-experiences/index.md target=_blank>Read Markdown</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://xuchunqiu.me/jetbrains-projector-first-experiences/ data-title="JetBrains Projector 使用初体验"><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://xuchunqiu.me/jetbrains-projector-first-experiences/><i class="fab fa-facebook-square fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/what-is-sci/ class=prev rel=prev title="什么是 SCI"><i class="fas fa-angle-left fa-fw"></i>什么是 SCI</a>
<a href=/jetbrains-gateway-first-experiences/ class=next rel=next title="远程开发工具 JetBrains Gateway 初体验">远程开发工具 JetBrains Gateway 初体验<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.95.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2019 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>xuchunqiu</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/auto-render.min.js></script><script type=text/javascript src=/lib/katex/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/mhchem.min.js></script><script type=text/javascript src=/lib/cookieconsent/cookieconsent.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10},comment:{},cookieconsent:{content:{dismiss:"Got it!",link:"Learn more",message:"This website uses Cookies to improve your experience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"$$",right:"$$"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"},{display:!1,left:"$",right:"$"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6VB32GX1DH",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-6VB32GX1DH" async></script></body></html>